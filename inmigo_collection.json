{
  "info": {
    "_postman_id": "e06ebbd9-3b18-4a99-b644-f23257c5fc39",
    "name": "Immigo API",
    "description": "> This API provides information about 3 models: events, organizations, and legal resources related to immigration support.",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
    "_exporter_id": "48953688",
    "_collection_link": "https://avb834-4080410.postman.co/workspace/d07f7e55-4171-49b7-8561-6de991fd5761/collection/48953688-e06ebbd9-3b18-4a99-b644-f23257c5fc39?action=share&source=collection_link&creator=48953688"
  },
  "item": [
    {
      "name": "events",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"First event has correct title, location, and duration\", function () {",
              "    let response = pm.response.json();",
              "    pm.expect(response.data).to.be.an(\"array\");",
              "    let event = response.data[0];",
              "    pm.expect(event.title).to.eql(\"Learn Serve Lead 2025\");",
              "    pm.expect(event.location).to.eql(\"Texas\");",
              "    pm.expect(event.duration_minutes).to.be.a(\"number\").and.to.eql(120);",
              "    pm.expect(event.resource_ids).to.be.an(\"array\").that.includes(22);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/events",
        "description": "Returns a list of all events from the EventBrite API. Each event object includes information such as its id, description, location, duration_minutes, external_url, and other relevant information."
      },
      "response": [
        {
          "name": "events",
          "originalRequest": {
            "method": "GET",
            "header": []
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "",
          "header": [],
          "cookie": [
            {
              "expires": "Invalid Date",
              "domain": "",
              "path": ""
            }
          ],
          "body": "[\n  {\n    \"event_id\": \"101\",\n    \"title\": \"Immigrant Rights Workshop\",\n    \"description\": \"Join us for a workshop on immigrant rights.\",\n    \"location\": \"Community Center, NY\",\n    \"date\": \"2025-10-15\",\n    \"start_time\": \"10:00\",\n    \"organizer\": \"NY Immigrant Alliance\"\n  },\n  {\n    \"event_id\": \"102\",\n    \"title\": \"Legal Aid Q&A Session\",\n    \"description\": \"A session to answer questions about legal aid services.\",\n    \"location\": \"Downtown Library, NY\",\n    \"date\": \"2025-10-18\",\n    \"start_time\": \"14:00\",\n    \"organizer\": \"Legal Aid Society\"\n  },\n  {\n    \"event_id\": \"103\",\n    \"title\": \"Community Citizenship Workshop\",\n    \"description\": \"Learn about citizenship processes and resources.\",\n    \"location\": \"City Hall, NY\",\n    \"date\": \"2025-10-20\",\n    \"start_time\": \"09:30\",\n    \"organizer\": \"Citizenship Now!\"\n  }\n]"
        }
      ]
    },
    {
      "name": "events/{id}",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Event ID 1 has correct attributes\", function () {",
              "    let event = pm.response.json(); ",
              "    pm.expect(event.id).to.eql(1);",
              "    pm.expect(event.title).to.eql(\"Learn Serve Lead 2025\");",
              "    pm.expect(event.location).to.eql(\"Texas\");",
              "    pm.expect(event.duration_minutes).to.be.a(\"number\").and.to.eql(120);",
              "    pm.expect(event.organization_id).to.eql(36);",
              "    pm.expect(event.external_url).to.eql(\"https://www.raicestexas.org/events/association-of-american-medical-colleges-conference\");",
              "    // Test new fields: organization and resources objects",
              "    pm.expect(event.organization).to.be.an(\"object\");",
              "    pm.expect(event.organization.id).to.eql(36);",
              "    pm.expect(event.organization.name).to.be.a(\"string\");",
              "    pm.expect(event.resources).to.be.an(\"array\");",
              "    pm.expect(event.resources[0]).to.have.property(\"id\");",
              "    pm.expect(event.resources[0]).to.have.property(\"title\");",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
<<<<<<< HEAD
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": "http://3.141.5.227:5000/api/events?sort_by=id&sort_order=asc",
          "description": "Returns a list of all events from the EventBrite API. Each event object includes information such as its id, description, location, duration_minutes, external_url, and other relevant information."
        },
        "response": [
          {
            "name": "events",
            "originalRequest": {
              "method": "GET",
              "header": []
            },
            "status": "OK",
            "code": 200,
            "_postman_previewlanguage": "",
            "header": [],
            "cookie": [
              {
                "expires": "Invalid Date",
                "domain": "",
                "path": ""
              }
            ],
            "body": "[\n  {\n    \"event_id\": \"101\",\n    \"title\": \"Immigrant Rights Workshop\",\n    \"description\": \"Join us for a workshop on immigrant rights.\",\n    \"location\": \"Community Center, NY\",\n    \"date\": \"2025-10-15\",\n    \"start_time\": \"10:00\",\n    \"organizer\": \"NY Immigrant Alliance\"\n  },\n  {\n    \"event_id\": \"102\",\n    \"title\": \"Legal Aid Q&A Session\",\n    \"description\": \"A session to answer questions about legal aid services.\",\n    \"location\": \"Downtown Library, NY\",\n    \"date\": \"2025-10-18\",\n    \"start_time\": \"14:00\",\n    \"organizer\": \"Legal Aid Society\"\n  },\n  {\n    \"event_id\": \"103\",\n    \"title\": \"Community Citizenship Workshop\",\n    \"description\": \"Learn about citizenship processes and resources.\",\n    \"location\": \"City Hall, NY\",\n    \"date\": \"2025-10-20\",\n    \"start_time\": \"09:30\",\n    \"organizer\": \"Citizenship Now!\"\n  }\n]"
          }
        ]
      },
      {
        "name": "events/{id}",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"Event ID 1 has correct attributes\", function () {",
                "    let event = pm.response.json(); ",
                "    pm.expect(event.id).to.eql(1);",
                "    pm.expect(event.title).to.eql(\"Learn Serve Lead 2025\");",
                "    pm.expect(event.location).to.eql(\"Texas\");",
                "    pm.expect(event.duration_minutes).to.be.a(\"number\").and.to.eql(120);",
                "    pm.expect(event.organization_id).to.eql(36);",
                "    pm.expect(event.external_url).to.eql(\"https://www.raicestexas.org/events/association-of-american-medical-colleges-conference\");",
                "    // Test new fields: organization and resources objects",
                "    pm.expect(event.organization).to.be.an(\"object\");",
                "    pm.expect(event.organization.id).to.eql(36);",
                "    pm.expect(event.organization.name).to.be.a(\"string\");",
                "    pm.expect(event.resources).to.be.an(\"array\");",
                "    pm.expect(event.resources[0]).to.have.property(\"id\");",
                "    pm.expect(event.resources[0]).to.have.property(\"title\");",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": "http://3.141.5.227:5000/api/events/1",
          "description": "Returns an event by ID from the EventBrite API. The event object includes information such as its id, description, location, duration_minutes, external_url, and other relevant information."
        },
        "response": [
          {
            "name": "events/{id}",
            "originalRequest": {
              "method": "GET",
              "header": [],
              "url": {
                "raw": "?id=103",
                "query": [
                  {
                    "key": "id",
                    "value": "103",
                    "description": "ID for an instance of an event"
                  }
                ]
              }
            },
            "_postman_previewlanguage": "",
            "header": [],
            "cookie": [
              {
                "expires": "Invalid Date",
                "domain": "",
                "path": ""
              }
            ],
            "body": "[\n  {\n    \"id\": \"103\",\n    \"title\": \"Community Citizenship Workshop\",\n    \"description\": \"Learn about citizenship processes and resources.\",\n    \"location\": \"City Hall, NY\",\n    \"date\": \"2025-10-20\",\n    \"start_time\": \"09:30\",\n    \"organizer\": \"Citizenship Now!\"\n  }\n]"
          }
        ]
      },
      {
        "name": "orgs",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"All orgs response contains expected first org\", function () {",
                "    let response = pm.response.json();",
                "    pm.expect(response.data).to.be.an(\"array\").that.is.not.empty;",
                "    let firstOrg = response.data[0];",
                "    pm.expect(firstOrg.id).to.eql(1);",
                "    pm.expect(firstOrg.name).to.eql(\"Immigration Legal Services\");",
                "    pm.expect(firstOrg.city).to.eql(\"Dearborn\");",
                "    pm.expect(firstOrg.topic).to.eql(\"Legal Services\");",
                "    pm.expect(firstOrg.resource_ids).to.include(22);",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": "http://3.141.5.227:5000/api/orgs?sort_by=id&sort_order=asc",
          "description": "Returns all organizations from the webscraping of [<b>www.immigrationlawhelp.org</b>](https://www.immigrationlawhelp.org/search?state=NE). Each organization object includes information such as its name, topic, description, state, external_url, and other relevant information."
        },
        "response": [
          {
            "name": "orgs",
            "originalRequest": {
              "method": "GET",
              "header": []
            },
            "status": "OK",
            "code": 200,
            "_postman_previewlanguage": "",
            "header": [],
            "cookie": [
              {
                "expires": "Invalid Date",
                "domain": "",
                "path": ""
              }
            ],
            "body": "[\n  {\n    \"organization_id\": \"201\",\n    \"name\": \"New York Immigrant Coalition\",\n    \"areas_of_assistance\": [\"Immigration\", \"Family Sponsorship\"],\n    \"types_of_assistance\": [\"Consultation\", \"Representation\"],\n    \"location\": \"123 Main St, NY\",\n    \"contact\": \"contact@nyic.org\"\n  },\n  {\n    \"organization_id\": \"202\",\n    \"name\": \"Brooklyn Legal Aid\",\n    \"areas_of_assistance\": [\"Asylum\", \"Deportation Defense\"],\n    \"types_of_assistance\": [\"Representation\"],\n    \"location\": \"45 Court Ave, Brooklyn, NY\",\n    \"contact\": \"info@brooklynlegal.org\"\n  },\n  {\n    \"organization_id\": \"203\",\n    \"name\": \"Queens Immigration Support\",\n    \"areas_of_assistance\": [\"Visa Applications\", \"Citizenship\"],\n    \"types_of_assistance\": [\"Consultation\"],\n    \"location\": \"78 Elm St, Queens, NY\",\n    \"contact\": \"help@qis.org\"\n  }\n]"
          }
        ]
      },
      {
        "name": "orgs/{id}",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"Org ID 2 has correct attributes\", function () {",
                "    let org = pm.response.json();",
                "    pm.expect(org.id).to.eql(2);",
                "    pm.expect(org.name).to.eql(\"Esperanza Immigration Legal Services\");",
                "    pm.expect(org.city).to.eql(\"Philadelphia\");",
                "    pm.expect(org.topic).to.eql(\"Human Services\");",
                "    pm.expect(org.external_url).to.eql(\"https://projects.propublica.org/nonprofits/organizations/300239154\");",
                "    // Test new fields: events and resources objects",
                "    pm.expect(org.events).to.be.an(\"array\");",
                "    pm.expect(org.resources).to.be.an(\"array\");",
                "    if (org.resources.length > 0) {",
                "        pm.expect(org.resources[0]).to.have.property(\"id\");",
                "        pm.expect(org.resources[0]).to.have.property(\"title\");",
                "    }",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": "http://3.141.5.227:5000/api/orgs/2",
          "description": "Returns an organization by ID from webscraping of [<b>www.immigrationlawhelp.org</b>](https://www.immigrationlawhelp.org/search?state=NE). The organization object includes information such as its name, topic, description, state, external_url, and other relevant information."
        },
        "response": [
          {
            "name": "orgs/{id}",
            "originalRequest": {
              "method": "GET",
              "header": [],
              "url": {
                "raw": "?id=203",
                "query": [
                  {
                    "key": "id",
                    "value": "203",
                    "description": "ID for an instance of an organization"
                  }
                ]
              }
            },
            "_postman_previewlanguage": "",
            "header": [],
            "cookie": [
              {
                "expires": "Invalid Date",
                "domain": "",
                "path": ""
              }
            ],
            "body": "[\n  { \n    \"id\": \"203\",\n    \"name\": \"Queens Immigration Support\",\n    \"areas_of_assistance\": [\"Visa Applications\", \"Citizenship\"],\n    \"types_of_assistance\": [\"Consultation\"],\n    \"location\": \"78 Elm St, Queens, NY\",\n    \"contact\": \"help@qis.org\"\n  }\n]"
          }
        ]
      },
      {
        "name": "resources",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"All resources response contains expected first resource\", function () {",
                "    let response = pm.response.json();",
                "    pm.expect(response.data).to.be.an(\"array\").that.is.not.empty;",
                "    let firstResource = response.data[0];",
                "    pm.expect(firstResource.id).to.eql(1);",
                "    pm.expect(firstResource.title).to.eql(\"Calderon-Uresti v. Bondi\");",
                "    pm.expect(firstResource.topic).to.eql(\"Immigration Law\");",
                "    pm.expect(firstResource.scope).to.eql(\"Federal\");",
                "    pm.expect(firstResource.organization_ids).to.include(7);",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": "http://3.141.5.227:5000/api/resources?sort_by=id&sort_order=asc",
          "description": "Returns a list of all legal resources from the ProPublica API. Each resource object includes information such as its title, audio_url, description, topic, court_name, and other relevant information."
        },
        "response": [
          {
            "name": "resources",
            "originalRequest": {
              "method": "GET",
              "header": []
            },
            "_postman_previewlanguage": "",
            "header": [],
            "cookie": [
              {
                "expires": "Invalid Date",
                "domain": "",
                "path": ""
              }
            ],
            "body": "[\n  {\n    \"resource_number\": \"HR1234\",\n    \"title\": \"Immigration Reform Act\",\n    \"introduced_date\": \"2025-01-15\",\n    \"latest_major_action\": \"Passed House, referred to Senate\",\n    \"subject\": \"Immigration\"\n  },\n  {\n    \"resource_number\": \"S5678\",\n    \"title\": \"Asylum Procedures Update\",\n    \"introduced_date\": \"2025-02-10\",\n    \"latest_major_action\": \"Committee Review\",\n    \"subject\": \"Asylum\"\n  },\n  {\n    \"resource_number\": \"HR9101\",\n    \"title\": \"Legal Aid Funding Act\",\n    \"introduced_date\": \"2025-03-05\",\n    \"latest_major_action\": \"Awaiting Vote\",\n    \"subject\": \"Legal Aid\"\n  }\n]"
          }
        ]
      },
      {
        "name": "resources/{id}",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"Resource ID 2 has correct attributes\", function () {",
                "    let resource = pm.response.json();",
                "    pm.expect(resource.id).to.eql(2);",
                "    pm.expect(resource.title).to.eql(\"Dominguez Reyes v. Bondi\");",
                "    pm.expect(resource.topic).to.eql(\"Immigration Law\");",
                "    pm.expect(resource.scope).to.eql(\"Federal\");",
                "    pm.expect(resource.external_url).to.eql(\"https://www.courtlistener.com/opinion/10732066/dominguez-reyes-v-bondi/\");",
                "    // Test new fields: events and organizations objects",
                "    pm.expect(resource.events).to.be.an(\"array\");",
                "    pm.expect(resource.organizations).to.be.an(\"array\");",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "protocolProfileBehavior": {
          "disableBodyPruning": true
        },
        "request": {
          "method": "GET",
          "header": [],
          "body": {
            "mode": "raw",
            "raw": "",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "url": "http://3.141.5.227:5000/api/resources/2",
          "description": "Returns a legal resources by ID from the ProPublica API. The resource object includes information such as its title, audio_url, description, topic, court_name, and other relevant information."
        },
        "response": [
          {
            "name": "resources/{id}",
            "originalRequest": {
              "method": "GET",
              "header": [],
              "url": {
                "raw": "?id=15",
                "query": [
                  {
                    "key": "id",
                    "value": "15",
                    "description": "ID for an instance of a resource"
                  }
                ]
              }
            },
            "_postman_previewlanguage": "",
            "header": [],
            "cookie": [
              {
                "expires": "Invalid Date",
                "domain": "",
                "path": ""
              }
            ],
            "body": "[\n  {\n    \"id\": 15,\n    \"resource_number\": \"HR9101\",\n    \"title\": \"Legal Aid Funding Act\",\n    \"introduced_date\": \"2025-03-05\",\n    \"latest_major_action\": \"Awaiting Vote\",\n    \"subject\": \"Legal Aid\"\n  }\n]"
          }
        ]
      },
      {
        "name": "events (paginated)",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"Paginated events response has correct structure\", function () {",
                "    let response = pm.response.json();",
                "    pm.expect(response).to.have.property(\"data\");",
                "    pm.expect(response).to.have.property(\"total\");",
                "    pm.expect(response).to.have.property(\"page\");",
                "    pm.expect(response).to.have.property(\"per_page\");",
                "    pm.expect(response).to.have.property(\"total_pages\");",
                "    pm.expect(response.data).to.be.an(\"array\");",
                "    pm.expect(response.data.length).to.be.at.most(15);",
                "    pm.expect(response.page).to.eql(1);",
                "    pm.expect(response.per_page).to.eql(15);",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": {
            "raw": "http://3.141.5.227:5000/api/events?page=1&per_page=15",
            "protocol": "http",
            "host": [
              "3",
              "141",
              "5",
              "227"
            ],
            "port": "5000",
            "path": [
              "api",
              "events"
            ],
            "query": [
              {
                "key": "page",
                "value": "1"
              },
              {
                "key": "per_page",
                "value": "15"
              }
            ]
          },
          "description": "Returns paginated events with page metadata"
        },
        "response": []
      },
      {
        "name": "orgs (paginated)",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"Paginated orgs response has correct structure\", function () {",
                "    let response = pm.response.json();",
                "    pm.expect(response).to.have.property(\"data\");",
                "    pm.expect(response).to.have.property(\"total\");",
                "    pm.expect(response).to.have.property(\"page\");",
                "    pm.expect(response).to.have.property(\"per_page\");",
                "    pm.expect(response).to.have.property(\"total_pages\");",
                "    pm.expect(response.data).to.be.an(\"array\");",
                "    pm.expect(response.data.length).to.be.at.most(15);",
                "    pm.expect(response.page).to.eql(1);",
                "    pm.expect(response.per_page).to.eql(15);",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": {
            "raw": "http://3.141.5.227:5000/api/orgs?page=1&per_page=15",
            "protocol": "http",
            "host": [
              "3",
              "141",
              "5",
              "227"
            ],
            "port": "5000",
            "path": [
              "api",
              "orgs"
            ],
            "query": [
              {
                "key": "page",
                "value": "1"
              },
              {
                "key": "per_page",
                "value": "15"
              }
            ]
          },
          "description": "Returns paginated organizations with page metadata"
        },
        "response": []
      },
      {
        "name": "resources (paginated)",
        "event": [
          {
            "listen": "test",
            "script": {
              "exec": [
                "pm.test(\"Paginated resources response has correct structure\", function () {",
                "    let response = pm.response.json();",
                "    pm.expect(response).to.have.property(\"data\");",
                "    pm.expect(response).to.have.property(\"total\");",
                "    pm.expect(response).to.have.property(\"page\");",
                "    pm.expect(response).to.have.property(\"per_page\");",
                "    pm.expect(response).to.have.property(\"total_pages\");",
                "    pm.expect(response.data).to.be.an(\"array\");",
                "    pm.expect(response.data.length).to.be.at.most(15);",
                "    pm.expect(response.page).to.eql(1);",
                "    pm.expect(response.per_page).to.eql(15);",
                "});"
              ],
              "type": "text/javascript",
              "packages": {},
              "requests": {}
            }
          }
        ],
        "request": {
          "method": "GET",
          "header": [],
          "url": {
            "raw": "http://3.141.5.227:5000/api/resources?page=1&per_page=15",
            "protocol": "http",
            "host": [
              "3",
              "141",
              "5",
              "227"
            ],
            "port": "5000",
            "path": [
              "api",
              "resources"
            ],
            "query": [
              {
                "key": "page",
                "value": "1"
              },
              {
                "key": "per_page",
                "value": "15"
              }
            ]
          },
          "description": "Returns paginated resources with page metadata"
        },
        "response": []
      },
      {
        "name": "events (search/sort/filter)",
        "request": {
          "method": "GET",
          "header": [],
          "url": "http://3.141.5.227:5000/api/events?search=clinic&sort_by=title&sort_order=asc&location=Texas&page=1&per_page=15"
        },
        "event": [
          {
            "listen": "test",
            "script": {
              "type": "text/javascript",
              "exec": [
                "let res = pm.response.json();",
                "",
                "pm.test(\"Events search/sort/filter structure OK\", () => {",
                "  pm.expect(res).to.have.property('data');",
                "  pm.expect(res).to.have.property('page');",
                "  pm.expect(res).to.have.property('per_page');",
                "  pm.expect(res.data).to.be.an('array');",
                "});",
                "",
                "pm.test(\"Events: per_page limit respected (if data present)\", () => {",
                "  if (!res.data || !Array.isArray(res.data)) return;",
                "  pm.expect(res.data.length).to.be.at.most(res.per_page);",
                "});",
                "",
                "pm.test(\"Events: search/sort/filter params are present in request URL\", () => {",
                "  const keys = pm.request.url.query.map(q => q.key);",
                "  pm.expect(keys).to.include('search');",
                "  pm.expect(keys).to.include('sort_by');",
                "  pm.expect(keys).to.include('sort_order');",
                "  pm.expect(keys).to.include('location');",
                "});"
=======
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/events/1",
        "description": "Returns an event by ID from the EventBrite API. The event object includes information such as its id, description, location, duration_minutes, external_url, and other relevant information."
      },
      "response": [
        {
          "name": "events/{id}",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "?id=103",
              "query": [
                {
                  "key": "id",
                  "value": "103",
                  "description": "ID for an instance of an event"
                }
>>>>>>> parent of 34aed2d (Postman tests.)
              ]
            }
          },
          "_postman_previewlanguage": "",
          "header": [],
          "cookie": [
            {
              "expires": "Invalid Date",
              "domain": "",
              "path": ""
            }
          ],
          "body": "[\n  {\n    \"id\": \"103\",\n    \"title\": \"Community Citizenship Workshop\",\n    \"description\": \"Learn about citizenship processes and resources.\",\n    \"location\": \"City Hall, NY\",\n    \"date\": \"2025-10-20\",\n    \"start_time\": \"09:30\",\n    \"organizer\": \"Citizenship Now!\"\n  }\n]"
        }
      ]
    },
    {
      "name": "orgs",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"All orgs response contains expected first org\", function () {",
              "    let response = pm.response.json();",
              "    pm.expect(response.data).to.be.an(\"array\").that.is.not.empty;",
              "    let firstOrg = response.data[0];",
              "    pm.expect(firstOrg.id).to.eql(1);",
              "    pm.expect(firstOrg.name).to.eql(\"Immigration Legal Services\");",
              "    pm.expect(firstOrg.city).to.eql(\"Dearborn\");",
              "    pm.expect(firstOrg.topic).to.eql(\"Legal Services\");",
              "    pm.expect(firstOrg.resource_ids).to.include(22);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/orgs",
        "description": "Returns all organizations from the webscraping of [<b>www.immigrationlawhelp.org</b>](https://www.immigrationlawhelp.org/search?state=NE). Each organization object includes information such as its name, topic, description, state, external_url, and other relevant information."
      },
      "response": [
        {
          "name": "orgs",
          "originalRequest": {
            "method": "GET",
            "header": []
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "",
          "header": [],
          "cookie": [
            {
              "expires": "Invalid Date",
              "domain": "",
              "path": ""
            }
          ],
          "body": "[\n  {\n    \"organization_id\": \"201\",\n    \"name\": \"New York Immigrant Coalition\",\n    \"areas_of_assistance\": [\"Immigration\", \"Family Sponsorship\"],\n    \"types_of_assistance\": [\"Consultation\", \"Representation\"],\n    \"location\": \"123 Main St, NY\",\n    \"contact\": \"contact@nyic.org\"\n  },\n  {\n    \"organization_id\": \"202\",\n    \"name\": \"Brooklyn Legal Aid\",\n    \"areas_of_assistance\": [\"Asylum\", \"Deportation Defense\"],\n    \"types_of_assistance\": [\"Representation\"],\n    \"location\": \"45 Court Ave, Brooklyn, NY\",\n    \"contact\": \"info@brooklynlegal.org\"\n  },\n  {\n    \"organization_id\": \"203\",\n    \"name\": \"Queens Immigration Support\",\n    \"areas_of_assistance\": [\"Visa Applications\", \"Citizenship\"],\n    \"types_of_assistance\": [\"Consultation\"],\n    \"location\": \"78 Elm St, Queens, NY\",\n    \"contact\": \"help@qis.org\"\n  }\n]"
        }
      ]
    },
    {
      "name": "orgs/{id}",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Org ID 2 has correct attributes\", function () {",
              "    let org = pm.response.json();",
              "    pm.expect(org.id).to.eql(2);",
              "    pm.expect(org.name).to.eql(\"Esperanza Immigration Legal Services\");",
              "    pm.expect(org.city).to.eql(\"Philadelphia\");",
              "    pm.expect(org.topic).to.eql(\"Human Services\");",
              "    pm.expect(org.external_url).to.eql(\"https://projects.propublica.org/nonprofits/organizations/300239154\");",
              "    // Test new fields: events and resources objects",
              "    pm.expect(org.events).to.be.an(\"array\");",
              "    pm.expect(org.resources).to.be.an(\"array\");",
              "    if (org.resources.length > 0) {",
              "        pm.expect(org.resources[0]).to.have.property(\"id\");",
              "        pm.expect(org.resources[0]).to.have.property(\"title\");",
              "    }",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/orgs/2",
        "description": "Returns an organization by ID from webscraping of [<b>www.immigrationlawhelp.org</b>](https://www.immigrationlawhelp.org/search?state=NE). The organization object includes information such as its name, topic, description, state, external_url, and other relevant information."
      },
      "response": [
        {
          "name": "orgs/{id}",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "?id=203",
              "query": [
                {
                  "key": "id",
                  "value": "203",
                  "description": "ID for an instance of an organization"
                }
              ]
            }
          },
          "_postman_previewlanguage": "",
          "header": [],
          "cookie": [
            {
              "expires": "Invalid Date",
              "domain": "",
              "path": ""
            }
          ],
          "body": "[\n  { \n    \"id\": \"203\",\n    \"name\": \"Queens Immigration Support\",\n    \"areas_of_assistance\": [\"Visa Applications\", \"Citizenship\"],\n    \"types_of_assistance\": [\"Consultation\"],\n    \"location\": \"78 Elm St, Queens, NY\",\n    \"contact\": \"help@qis.org\"\n  }\n]"
        }
      ]
    },
    {
      "name": "resources",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"All resources response contains expected first resource\", function () {",
              "    let response = pm.response.json();",
              "    pm.expect(response.data).to.be.an(\"array\").that.is.not.empty;",
              "    let firstResource = response.data[0];",
              "    pm.expect(firstResource.id).to.eql(1);",
              "    pm.expect(firstResource.title).to.eql(\"Calderon-Uresti v. Bondi\");",
              "    pm.expect(firstResource.topic).to.eql(\"Immigration Law\");",
              "    pm.expect(firstResource.scope).to.eql(\"Federal\");",
              "    pm.expect(firstResource.organization_ids).to.include(7);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/resources",
        "description": "Returns a list of all legal resources from the ProPublica API. Each resource object includes information such as its title, audio_url, description, topic, court_name, and other relevant information."
      },
      "response": [
        {
          "name": "resources",
          "originalRequest": {
            "method": "GET",
            "header": []
          },
          "_postman_previewlanguage": "",
          "header": [],
          "cookie": [
            {
              "expires": "Invalid Date",
              "domain": "",
              "path": ""
            }
          ],
          "body": "[\n  {\n    \"resource_number\": \"HR1234\",\n    \"title\": \"Immigration Reform Act\",\n    \"introduced_date\": \"2025-01-15\",\n    \"latest_major_action\": \"Passed House, referred to Senate\",\n    \"subject\": \"Immigration\"\n  },\n  {\n    \"resource_number\": \"S5678\",\n    \"title\": \"Asylum Procedures Update\",\n    \"introduced_date\": \"2025-02-10\",\n    \"latest_major_action\": \"Committee Review\",\n    \"subject\": \"Asylum\"\n  },\n  {\n    \"resource_number\": \"HR9101\",\n    \"title\": \"Legal Aid Funding Act\",\n    \"introduced_date\": \"2025-03-05\",\n    \"latest_major_action\": \"Awaiting Vote\",\n    \"subject\": \"Legal Aid\"\n  }\n]"
        }
      ]
    },
    {
      "name": "resources/{id}",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Resource ID 2 has correct attributes\", function () {",
              "    let resource = pm.response.json();",
              "    pm.expect(resource.id).to.eql(2);",
              "    pm.expect(resource.title).to.eql(\"Dominguez Reyes v. Bondi\");",
              "    pm.expect(resource.topic).to.eql(\"Immigration Law\");",
              "    pm.expect(resource.scope).to.eql(\"Federal\");",
              "    pm.expect(resource.external_url).to.eql(\"https://www.courtlistener.com/opinion/10732066/dominguez-reyes-v-bondi/\");",
              "    // Test new fields: events and organizations objects",
              "    pm.expect(resource.events).to.be.an(\"array\");",
              "    pm.expect(resource.organizations).to.be.an(\"array\");",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": "http://3.141.5.227:5000/api/resources/2",
        "description": "Returns a legal resources by ID from the ProPublica API. The resource object includes information such as its title, audio_url, description, topic, court_name, and other relevant information."
      },
      "response": [
        {
          "name": "resources/{id}",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "?id=15",
              "query": [
                {
                  "key": "id",
                  "value": "15",
                  "description": "ID for an instance of a resource"
                }
              ]
            }
          },
          "_postman_previewlanguage": "",
          "header": [],
          "cookie": [
            {
              "expires": "Invalid Date",
              "domain": "",
              "path": ""
            }
          ],
          "body": "[\n  {\n    \"id\": 15,\n    \"resource_number\": \"HR9101\",\n    \"title\": \"Legal Aid Funding Act\",\n    \"introduced_date\": \"2025-03-05\",\n    \"latest_major_action\": \"Awaiting Vote\",\n    \"subject\": \"Legal Aid\"\n  }\n]"
        }
      ]
    },
    {
      "name": "events (paginated)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Paginated events response has correct structure\", function () {",
              "    let response = pm.response.json();",
              "    pm.expect(response).to.have.property(\"data\");",
              "    pm.expect(response).to.have.property(\"total\");",
              "    pm.expect(response).to.have.property(\"page\");",
              "    pm.expect(response).to.have.property(\"per_page\");",
              "    pm.expect(response).to.have.property(\"total_pages\");",
              "    pm.expect(response.data).to.be.an(\"array\");",
              "    pm.expect(response.data.length).to.be.at.most(15);",
              "    pm.expect(response.page).to.eql(1);",
              "    pm.expect(response.per_page).to.eql(15);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://3.141.5.227:5000/api/events?page=1&per_page=15",
          "protocol": "http",
          "host": [
            "3",
            "141",
            "5",
            "227"
          ],
          "port": "5000",
          "path": [
            "api",
            "events"
          ],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "per_page",
              "value": "15"
            }
          ]
        },
        "description": "Returns paginated events with page metadata"
      },
      "response": []
    },
    {
      "name": "orgs (paginated)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Paginated orgs response has correct structure\", function () {",
              "    let response = pm.response.json();",
              "    pm.expect(response).to.have.property(\"data\");",
              "    pm.expect(response).to.have.property(\"total\");",
              "    pm.expect(response).to.have.property(\"page\");",
              "    pm.expect(response).to.have.property(\"per_page\");",
              "    pm.expect(response).to.have.property(\"total_pages\");",
              "    pm.expect(response.data).to.be.an(\"array\");",
              "    pm.expect(response.data.length).to.be.at.most(15);",
              "    pm.expect(response.page).to.eql(1);",
              "    pm.expect(response.per_page).to.eql(15);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://3.141.5.227:5000/api/orgs?page=1&per_page=15",
          "protocol": "http",
          "host": [
            "3",
            "141",
            "5",
            "227"
          ],
          "port": "5000",
          "path": [
            "api",
            "orgs"
          ],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "per_page",
              "value": "15"
            }
          ]
        },
        "description": "Returns paginated organizations with page metadata"
      },
      "response": []
    },
    {
      "name": "resources (paginated)",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Paginated resources response has correct structure\", function () {",
              "    let response = pm.response.json();",
              "    pm.expect(response).to.have.property(\"data\");",
              "    pm.expect(response).to.have.property(\"total\");",
              "    pm.expect(response).to.have.property(\"page\");",
              "    pm.expect(response).to.have.property(\"per_page\");",
              "    pm.expect(response).to.have.property(\"total_pages\");",
              "    pm.expect(response.data).to.be.an(\"array\");",
              "    pm.expect(response.data.length).to.be.at.most(15);",
              "    pm.expect(response.page).to.eql(1);",
              "    pm.expect(response.per_page).to.eql(15);",
              "});"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "http://3.141.5.227:5000/api/resources?page=1&per_page=15",
          "protocol": "http",
          "host": [
            "3",
            "141",
            "5",
            "227"
          ],
          "port": "5000",
          "path": [
            "api",
            "resources"
          ],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "per_page",
              "value": "15"
            }
          ]
        },
        "description": "Returns paginated resources with page metadata"
      },
      "response": []
    },
    {
      "name": "events (search/sort/filter)",
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/events?search=clinic&sort_by=title&sort_order=asc&location=Texas&page=1&per_page=15"
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "let res = pm.response.json();",
              "",
              "pm.test(\"Events search/sort/filter structure OK\", () => {",
              "  pm.expect(res).to.have.property('data');",
              "  pm.expect(res).to.have.property('page');",
              "  pm.expect(res).to.have.property('per_page');",
              "  pm.expect(res.data).to.be.an('array');",
              "});",
              "",
              "pm.test(\"Events: per_page limit respected (if data present)\", () => {",
              "  if (!res.data || !Array.isArray(res.data)) return;",
              "  pm.expect(res.data.length).to.be.at.most(res.per_page);",
              "});",
              "",
              "pm.test(\"Events: search/sort/filter params are present in request URL\", () => {",
              "  const keys = pm.request.url.query.map(q => q.key);",
              "  pm.expect(keys).to.include('search');",
              "  pm.expect(keys).to.include('sort_by');",
              "  pm.expect(keys).to.include('sort_order');",
              "  pm.expect(keys).to.include('location');",
              "});"
            ]
          }
        }
      ]
    },
    {
      "name": "orgs (search/sort/filter)",
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/orgs?search=legal&sort_by=name&sort_order=asc&state=TX&page=1&per_page=15"
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "let res = pm.response.json();",
              "",
              "pm.test(\"Orgs search/sort/filter structure OK\", () => {",
              "  pm.expect(res).to.have.property('data');",
              "  pm.expect(res).to.have.property('page');",
              "  pm.expect(res).to.have.property('per_page');",
              "  pm.expect(res.data).to.be.an('array');",
              "});",
              "",
              "pm.test(\"Orgs: per_page limit respected (if data present)\", () => {",
              "  if (!res.data || !Array.isArray(res.data)) return;",
              "  pm.expect(res.data.length).to.be.at.most(res.per_page);",
              "});",
              "",
              "pm.test(\"Orgs: search/sort/filter params are present in request URL\", () => {",
              "  const keys = pm.request.url.query.map(q => q.key);",
              "  pm.expect(keys).to.include('search');",
              "  pm.expect(keys).to.include('sort_by');",
              "  pm.expect(keys).to.include('sort_order');",
              "  pm.expect(keys).to.include('state');",
              "});"
            ]
          }
        }
      ]
    },
    {
      "name": "resources (search/sort/filter)",
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://3.141.5.227:5000/api/resources?search=immigration&sort_by=title&sort_order=asc&scope=Federal&topic=Immigration%20Law&page=1&per_page=15"
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "let res = pm.response.json();",
              "",
              "pm.test(\"Resources search/sort/filter structure OK\", () => {",
              "  pm.expect(res).to.have.property('data');",
              "  pm.expect(res).to.have.property('page');",
              "  pm.expect(res).to.have.property('per_page');",
              "  pm.expect(res.data).to.be.an('array');",
              "});",
              "",
              "pm.test(\"Resources: per_page limit respected (if data present)\", () => {",
              "  if (!res.data || !Array.isArray(res.data)) return;",
              "  pm.expect(res.data.length).to.be.at.most(res.per_page);",
              "});",
              "",
              "pm.test(\"Resources: search/sort/filter params are present in request URL\", () => {",
              "  const keys = pm.request.url.query.map(q => q.key);",
              "  pm.expect(keys).to.include('search');",
              "  pm.expect(keys).to.include('sort_by');",
              "  pm.expect(keys).to.include('sort_order');",
              "  pm.expect(keys).to.include('scope');",
              "  pm.expect(keys).to.include('topic');",
              "});"
            ]
          }
        }
      ]
    }
  ]
}
